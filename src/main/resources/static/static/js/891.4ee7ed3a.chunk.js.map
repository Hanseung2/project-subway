{"version":3,"file":"static/js/891.4ee7ed3a.chunk.js","mappings":"02iFAeMA,EAAa,CACf,gB,yxEACA,gB,iwEACA,gB,6uEACA,gB,6rEACA,gB,q2EACA,gB,65EACA,gB,6/EACA,gB,izEACA,gB,66EACA,qBAAO,UACP,qBAAO,UACP,qBAAO,UACP,2BAAQ,UACR,qBAAO,UACP,qBAAO,UACP,qBAAO,UACP,2BAAQ,UACR,qBAAO,UACP,6CAAW,UACX,uCAAU,UACV,4BAAS,UACT,4BAAS,UACT,qBAAO,UACP,qBAAO,UACP,qBAAO,UACP,qBAAO,UACP,uCAAU,UACV,qBAAO,UACP,iCAAS,UACT,uCAAU,UACV,uCAAU,UACV,gEAAe,WA6InB,EAxIY,WACR,IAAAC,GAAoCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAzCI,EAAUF,EAAA,GAAEG,EAAaH,EAAA,GAChCI,GAAsBL,EAAAA,EAAAA,UAAS,MAAKM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA7BE,EAAGD,EAAA,GAAEE,EAAMF,EAAA,GAClBG,GAAwCT,EAAAA,EAAAA,UAAS,IAAGU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAA7CE,EAAYD,EAAA,GACnBE,GADoCF,EAAA,IACAV,EAAAA,EAAAA,UAAS,KAAGa,GAAAX,EAAAA,EAAAA,GAAAU,EAAA,GAAzCE,EAAUD,EAAA,GAIXE,GAJ0BF,EAAA,IAIfG,EAAAA,EAAAA,QAYjBC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAASC,SAASC,cAAc,UA0EtC,OAzEAF,EAAOG,IAAM,qBACbH,EAAOI,OAAQ,EACfH,SAASI,KAAKC,YAAYN,GAE1BA,EAAOO,OAAS,WACZC,OAAOC,MAAMC,KAAKC,MAAK,WACnB,IAAMC,EAAeX,SAASY,eAAe,OACvCC,EAAY,CACdC,OAAQ,IAAIP,OAAOC,MAAMC,KAAKM,OAAO,QAAS,UAC9CC,MAAO,GAGL5B,EAAM,IAAImB,OAAOC,MAAMC,KAAKQ,IAAIN,EAAcE,GACpDxB,EAAOD,GAEP8B,EAAWC,SAAQ,SAACC,EAASC,GACzB,IAAMC,EAAiB,IAAIf,OAAOC,MAAMC,KAAKM,OAAOK,EAAQG,IAAKH,EAAQI,KAGnEC,EAAiB9C,EAAWyC,EAAQM,MACpCC,EAAkB,IAAIpB,OAAOC,MAAMC,KAAKmB,KAAK,GAAI,IACjDC,EAAoB,CAAEC,OAAQ,IAAIvB,OAAOC,MAAMC,KAAKsB,MAAM,GAAI,KAG9DC,EAAc,IAAIzB,OAAOC,MAAMC,KAAKwB,YAAYR,EAAgBE,EAAiBE,GAGjFK,EAAS,IAAI3B,OAAOC,MAAMC,KAAK0B,OAAO,CACxCC,SAAUd,EACVlC,IAAKA,EACLiD,MAAOL,IAGLM,EAAO,2DAAAC,OACuBlB,EAAK,iJAAAkB,OAGvBnB,EAAQoB,KAAI,wGAAAD,OACiDlB,EAAK,+QAAAkB,OAIxCnB,EAAQM,KAAI,KAAAa,OAAInB,EAAQoB,KAAI,qIAAAD,OAEjBnB,EAAQoB,KAAI,mHAAAD,OACZnB,EAAQoB,KAAI,6HAAAD,OACAnB,EAAQoB,KAAI,2RAQzEC,EAAU,IAAIlC,OAAOC,MAAMC,KAAKiC,cAAc,CAChDJ,QAASA,EACTF,SAAUF,EAAOS,cACjBC,QAAS,IAGbrC,OAAOC,MAAMC,KAAKoC,MAAMC,YAAYZ,EAAQ,SAAS,WACjDO,EAAQpD,OAAOD,GACfY,SAAS+C,iBAAiB,SAAS5B,SAAQ,SAAA6B,GAAE,OAAIA,EAAGC,MAAMC,QAAU,MAAM,IAC1ElD,SAASY,eAAe,WAAD2B,OAAYlB,IAAS4B,MAAMC,QAAU,OAChE,GACJ,GACJ,GACJ,EAEA3C,OAAO4C,gBAAkB,SAACC,GACtBxD,EAAS,aAAc,CAAEyD,MAAO,CAAED,YAAAA,IACtC,EAEO,WACHpD,SAASI,KAAKkD,YAAYvD,EAC9B,CACJ,GAAG,IAYH,OACIwD,EAAAA,EAAAA,MAACC,EAAAA,EAAI,CAACC,MAAM,eAAKC,YAAY,kCAAQC,SAAA,EACjCC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mBAAkBF,UAC7BJ,EAAAA,EAAAA,MAAA,OAAKM,UAAU,cAAaF,SAAA,EACxBJ,EAAAA,EAAAA,MAAA,QAAMO,SAdD,SAACC,GAClBA,EAAEC,iBACF,IAAM5C,EAAUF,EAAW+C,MAAK,SAAA7C,GAAO,OAAIA,EAAQoB,KAAK0B,SAASlF,EAAW,IAC5E,GAAIoC,GAAWhC,EAAK,CAChB,IAAM+E,EAAa,IAAI5D,OAAOC,MAAMC,KAAKM,OAAOK,EAAQG,IAAKH,EAAQI,KACrEpC,EAAIgF,UAAUD,GACd/E,EAAIiF,SAAS,EACjB,CACJ,EAM6CV,SAAA,EACzBC,EAAAA,EAAAA,KAAA,SACIU,KAAK,OACLC,YAAY,0CACZC,MAAOxF,EACPyF,SAAU,SAACV,GAAC,OAAK9E,EAAc8E,EAAEW,OAAOF,MAAM,KAElDZ,EAAAA,EAAAA,KAAA,UAAQU,KAAK,SAAQX,SAAC,qBAE1BJ,EAAAA,EAAAA,MAAA,OAAKM,UAAU,YAAWF,SAAA,EACtBJ,EAAAA,EAAAA,MAAA,OAAKM,UAAU,aAAYF,SAAA,CAAC,uBAAMnE,MAClCoE,EAAAA,EAAAA,KAACe,EAAAA,IAAmB,KACpBpB,EAAAA,EAAAA,MAAA,OAAKM,UAAU,aAAYF,SAAA,CAAC,uBAAMhE,MAClCiE,EAAAA,EAAAA,KAAA,UAAQgB,QArHE,WAE1BhF,EAAS,OAAQ,CAAEyD,MAAO,CAAE7D,aAAAA,EAAcG,WAAAA,IAC9C,EAkH2DgE,SAAC,gCAIpDC,EAAAA,EAAAA,KAAA,OAAKiB,GAAG,MAAKlB,SAAC,yCAG1B,C","sources":["pages/Map.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Main from '../components/section/Main'\nimport subwayData from '../data/seoulsubwaydata.json'\nimport { FaLongArrowAltRight } from \"react-icons/fa\";\nimport line1 from '../assets/img/subwaymapmarker/1호선마커.png';\nimport line2 from '../assets/img/subwaymapmarker/2호선마커.png';\nimport line3 from '../assets/img/subwaymapmarker/3호선마커.png';\nimport line4 from '../assets/img/subwaymapmarker/4호선마커.png';\nimport line5 from '../assets/img/subwaymapmarker/5호선마커.png';\nimport line6 from '../assets/img/subwaymapmarker/6호선마커.png';\nimport line7 from '../assets/img/subwaymapmarker/7호선마커.png';\nimport line8 from '../assets/img/subwaymapmarker/8호선마커.png';\nimport line9 from '../assets/img/subwaymapmarker/9호선마커.png';\n\nconst lineImages = {\n    \"1호선\": line1,\n    \"2호선\": line2,\n    \"3호선\": line3,\n    \"4호선\": line4,\n    \"5호선\": line5,\n    \"6호선\": line6,\n    \"7호선\": line7,\n    \"8호선\": line8,\n    \"9호선\": line9,\n    \"경강선\": \"#003DA5\",\n    \"경의선\": \"#77C4A3\",\n    \"경춘선\": \"#0C8E72\",\n    \"공항철도\": \"#3681B7\",\n    \"분당선\": \"#F5A200\",\n    \"서해선\": \"#81A914\",\n    \"수인선\": \"#F06A00\",\n    \"신분당선\": \"#D4003B\",\n    \"안산선\": \"#00A5DE\",\n    \"우이신설경전철\": \"#B0CE18\",\n    \"의정부경전철\": \"#FFD400\",\n    \"인천1호선\": \"#8CADCB\",\n    \"인천2호선\": \"#F5A200\",\n    \"인천선\": \"#FF8000\",\n    \"일산선\": \"#B0CE18\",\n    \"장항선\": \"#F5A200\",\n    \"중앙선\": \"#77C4A3\",\n    \"김포도시철도\": \"#BDB092\",\n    \"신림선\": \"#738C00\",\n    \"용인경전철\": \"#509F22\",\n    \"경전철의정부\": \"#FFD400\",\n    \"김포골드라인\": \"#A17E46\",\n    \"인천공항 자기부상철도\": \"#0B4CA2\",\n\n    // 추가 노선에 대한 이미지 URL...\n};\n\nconst Map = () => {\n    const [searchTerm, setSearchTerm] = useState('');\n    const [map, setMap] = useState(null); // 지도 인스턴스 상태 관리\n    const [startStation, setStartStation] = useState(''); // 출발지 상태 관리\n    const [endStation, setEndStation] = useState(''); // 도착지 상태 관리\n    \n\n    //정보 넘겨주기\n    const navigate = useNavigate();\n\n    const navigateToRouteResult = () => {\n        // navigate 함수를 사용하여 페이지 이동 및 state 전달\n        navigate('/nav', { state: { startStation, endStation } });\n    };\n\n\n    const goToArrivalPage = (stationName) => {\n        navigate('/arrival', { state: { stationName } });\n    };\n\n    useEffect(() => {\n        const script = document.createElement('script');\n        script.src = '/api/kakao/map-url'; // 백엔드에서 제공하는 카카오 지도 API URL 경로\n        script.async = true;\n        document.head.appendChild(script);\n\n        script.onload = () => {\n            window.kakao.maps.load(() => {\n                const mapContainer = document.getElementById('map');\n                const mapOption = {\n                    center: new window.kakao.maps.LatLng(37.5503, 127.0731), // 세종대학교 위치\n                    level: 5\n                };\n\n                const map = new window.kakao.maps.Map(mapContainer, mapOption);\n                setMap(map); // 지도 인스턴스를 상태에 저장\n\n                subwayData.forEach((station, index) => {\n                    const markerPosition = new window.kakao.maps.LatLng(station.lat, station.lng);\n\n                    // 노선에 맞는 이미지 URL 가져오기\n                    const markerImageSrc = lineImages[station.line];\n                    const markerImageSize = new window.kakao.maps.Size(24, 30);\n                    const markerImageOption = { offset: new window.kakao.maps.Point(12, 35) };\n\n                    // 마커 이미지 객체 생성\n                    const markerImage = new window.kakao.maps.MarkerImage(markerImageSrc, markerImageSize, markerImageOption);\n\n                    // 마커 생성 및 지도에 표시\n                    const marker = new window.kakao.maps.Marker({\n                        position: markerPosition,\n                        map: map,\n                        image: markerImage\n                    });\n\n                    const content = `\n                        <div class=\"wrap\" id=\"overlay-${index}\">\n                            <div class=\"info\">\n                                <div class=\"title\">\n                                    ${station.name}\n                                    <div class=\"close\" onclick=\"document.getElementById('overlay-${index}').style.display='none'\" title=\"닫기\"></div>\n                                </div>\n                                <div class=\"body\">\n                                    <div class=\"desc\">\n                                        <div class=\"ellipsis\">${station.line} ${station.name}</div>\n                                        <div>\n                                            <button onclick=\"setStation('${station.name}', 'start')\">출발</button>\n                                            <button onclick=\"setStation('${station.name}', 'end')\">도착</button>\n                                            <button onclick=\"window.goToArrivalPage('${station.name}')\">실시간 도착정보</button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    `;\n\n                    const overlay = new window.kakao.maps.CustomOverlay({\n                        content: content,\n                        position: marker.getPosition(),\n                        yAnchor: 1\n                    });\n\n                    window.kakao.maps.event.addListener(marker, 'click', function () {\n                        overlay.setMap(map);\n                        document.querySelectorAll('.wrap').forEach(el => el.style.display = 'none');\n                        document.getElementById(`overlay-${index}`).style.display = 'block';\n                    });\n                });\n            });\n        };\n\n        window.goToArrivalPage = (stationName) => {\n            navigate('/developer', { state: { stationName } });\n        };\n\n        return () => {\n            document.head.removeChild(script);\n        };\n    }, []);\n\n    const handleSearch = (e) => {\n        e.preventDefault();\n        const station = subwayData.find(station => station.name.includes(searchTerm));\n        if (station && map) {\n            const moveLatLon = new window.kakao.maps.LatLng(station.lat, station.lng);\n            map.setCenter(moveLatLon);\n            map.setLevel(4);\n        }\n    };\n\n    return (\n        <Main title=\"지도\" description=\"지도 페이지\">\n            <div className=\"search-container\">\n                <div className=\"search-form\">\n                    <form onSubmit={handleSearch}>\n                        <input\n                            type=\"text\"\n                            placeholder=\"  지하철역 검색\"\n                            value={searchTerm}\n                            onChange={(e) => setSearchTerm(e.target.value)}\n                        />\n                        <button type=\"submit\">검색</button>\n                    </form>\n                    <div className=\"route-box\">\n                        <div className=\"route-info\">출발지: {startStation}</div>\n                        <FaLongArrowAltRight />\n                        <div className=\"route-info\">도착지: {endStation}</div>\n                        <button onClick={navigateToRouteResult}>길찾기</button>\n                    </div>\n                </div>\n            </div>\n            <div id=\"map\">지도 로딩중...</div>\n        </Main>\n    );\n};\n\nexport default Map;"],"names":["lineImages","_useState","useState","_useState2","_slicedToArray","searchTerm","setSearchTerm","_useState3","_useState4","map","setMap","_useState5","_useState6","startStation","_useState7","_useState8","endStation","navigate","useNavigate","useEffect","script","document","createElement","src","async","head","appendChild","onload","window","kakao","maps","load","mapContainer","getElementById","mapOption","center","LatLng","level","Map","subwayData","forEach","station","index","markerPosition","lat","lng","markerImageSrc","line","markerImageSize","Size","markerImageOption","offset","Point","markerImage","MarkerImage","marker","Marker","position","image","content","concat","name","overlay","CustomOverlay","getPosition","yAnchor","event","addListener","querySelectorAll","el","style","display","goToArrivalPage","stationName","state","removeChild","_jsxs","Main","title","description","children","_jsx","className","onSubmit","e","preventDefault","find","includes","moveLatLon","setCenter","setLevel","type","placeholder","value","onChange","target","FaLongArrowAltRight","onClick","id"],"sourceRoot":""}