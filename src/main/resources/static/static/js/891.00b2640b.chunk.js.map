{"version":3,"file":"static/js/891.00b2640b.chunk.js","mappings":"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","sources":["pages/Map.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Main from '../components/section/Main'\nimport subwayData from '../data/seoulsubwaydata.json'\nimport { FaLongArrowAltRight } from \"react-icons/fa\";\nimport line1 from '../assets/img/subwaymapmarker/1호선마커.png';\nimport line2 from '../assets/img/subwaymapmarker/2호선마커.png';\nimport line3 from '../assets/img/subwaymapmarker/3호선마커.png';\nimport line4 from '../assets/img/subwaymapmarker/4호선마커.png';\nimport line5 from '../assets/img/subwaymapmarker/5호선마커.png';\nimport line6 from '../assets/img/subwaymapmarker/6호선마커.png';\nimport line7 from '../assets/img/subwaymapmarker/7호선마커.png';\nimport line8 from '../assets/img/subwaymapmarker/8호선마커.png';\nimport line9 from '../assets/img/subwaymapmarker/9호선마커.png';\n\nconst lineImages = {\n    \"1호선\": line1,\n    \"2호선\": line2,\n    \"3호선\": line3,\n    \"4호선\": line4,\n    \"5호선\": line5,\n    \"6호선\": line6,\n    \"7호선\": line7,\n    \"8호선\": line8,\n    \"9호선\": line9,\n    \"경강선\": \"#003DA5\",\n    \"경의선\": \"#77C4A3\",\n    \"경춘선\": \"#0C8E72\",\n    \"공항철도\": \"#3681B7\",\n    \"분당선\": \"#F5A200\",\n    \"서해선\": \"#81A914\",\n    \"수인선\": \"#F06A00\",\n    \"신분당선\": \"#D4003B\",\n    \"안산선\": \"#00A5DE\",\n    \"우이신설경전철\": \"#B0CE18\",\n    \"의정부경전철\": \"#FFD400\",\n    \"인천1호선\": \"#8CADCB\",\n    \"인천2호선\": \"#F5A200\",\n    \"인천선\": \"#FF8000\",\n    \"일산선\": \"#B0CE18\",\n    \"장항선\": \"#F5A200\",\n    \"중앙선\": \"#77C4A3\",\n    \"김포도시철도\": \"#BDB092\",\n    \"신림선\": \"#738C00\",\n    \"용인경전철\": \"#509F22\",\n    \"경전철의정부\": \"#FFD400\",\n    \"김포골드라인\": \"#A17E46\",\n    \"인천공항 자기부상철도\": \"#0B4CA2\",\n\n    // 추가 노선에 대한 이미지 URL...\n};\n\nconst Map = () => {\n    const [searchTerm, setSearchTerm] = useState('');\n    const [map, setMap] = useState(null); // 지도 인스턴스 상태 관리\n    const [startStation, setStartStation] = useState(''); // 출발지 상태 관리\n    const [endStation, setEndStation] = useState(''); // 도착지 상태 관리\n    \n\n    //정보 넘겨주기\n    const navigate = useNavigate();\n\n    const navigateToRouteResult = () => {\n        // navigate 함수를 사용하여 페이지 이동 및 state 전달\n        navigate('/nav', { state: { startStation, endStation } });\n    };\n\n\n    const goToArrivalPage = (stationName) => {\n        navigate('/live', { state: { stationName } });\n    };\n\n    useEffect(() => {\n        window.setStation = (stationName, type) => {\n            if (type === 'start') {\n                setStartStation(stationName);\n            } else if (type === 'end') {\n                setEndStation(stationName);\n            }\n        };\n    const script = document.createElement('script');\n    script.src = \"//dapi.kakao.com/v2/maps/sdk.js?appkey=a576239cea9ab4b2daf2a00e251e97e9&autoload=false\";\n    script.async = true;\n    document.head.appendChild(script);\n    \n    script.onload = () => {\n        window.kakao.maps.load(() => {\n        const mapContainer = document.getElementById('map'),\n        mapOption = {\n            center: new window.kakao.maps.LatLng(37.5503, 127.0731),//세종대학교 위치\n            level: 5\n    };\n    \n    const map = new window.kakao.maps.Map(mapContainer, mapOption);\n    setMap(map); // 지도 인스턴스를 상태에 저장\n    \n    //\n    \n    //\n    subwayData.forEach((station, index) => {\n        const markerPosition = new window.kakao.maps.LatLng(station.y, station.x);\n    \n        // 노선에 맞는 이미지 URL을 가져옵니다.\n        const markerImageSrc = lineImages[station.line]; // 해당 역의 노선에 맞는 이미지\n        const markerImageSize = new window.kakao.maps.Size(24, 30); // 마커 이미지의 크기\n        const markerImageOption = {offset: new window.kakao.maps.Point(12, 35)}; // 마커 이미지의 옵션(이미지의 중심점 설정)\n    \n        // 마커 이미지 객체를 생성합니다.\n        const markerImage = new window.kakao.maps.MarkerImage(markerImageSrc, markerImageSize, markerImageOption);\n    \n        // 마커를 생성하고 지도에 표시합니다.\n        const marker = new window.kakao.maps.Marker({\n            position: markerPosition,\n            map: map,\n            image: markerImage // 마커 이미지 설정\n        });\n  \n    const content = `\n        <div class=\"wrap\" id=\"overlay-${index}\">\n            <div class=\"info\">\n                <div class=\"title\">\n                ${station.name}\n                <div class=\"close\" onclick=\"document.getElementById('overlay-${index}').style.display='none'\" title=\"닫기\"></div>\n                </div>\n                <div class=\"body\">\n                    <div class=\"desc\">\n                        <div class=\"ellipsis\">${station.line} ${station.name}</div>\n                        <div>\n                        <button onclick=\"setStation('${station.name}', 'start')\">출발</button>\n                        <button onclick=\"setStation('${station.name}', 'end')\">도착</button>\n                        <button onclick=\"window.goToArrivalPage('${station.name}')\">실시간 도착정보</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `;\n        \n/*\n\nconst lineColors = {\n    \"1호선\": \"#0D3692\",\n    \"2호선\": \"#33A23D\",\n    \"3호선\": \"#FE5B10\",\n    \"4호선\": \"#00A2D1\",\n    \"5호선\": \"#8B50A4\",\n    \"6호선\": \"#C55C1D\",\n    \"7호선\": \"#54640D\",\n    \"8호선\": \"#F14C82\",\n    \"9호선\": \"#AA9872\",\n    \"경강선\": \"#003DA5\",\n    \"경의선\": \"#77C4A3\",\n    \"경춘선\": \"#0C8E72\",\n    \"공항철도\": \"#3681B7\",\n    \"분당선\": \"#F5A200\",\n    \"서해선\": \"#81A914\",\n    \"수인선\": \"#F06A00\",\n    \"신분당선\": \"#D4003B\",\n    \"안산선\": \"#00A5DE\",\n    \"우이신설경전철\": \"#B0CE18\",\n    \"의정부경전철\": \"#FFD400\",\n    \"인천1호선\": \"#8CADCB\",\n    \"인천2호선\": \"#F5A200\",\n    \"인천선\": \"#FF8000\",\n    \"일산선\": \"#B0CE18\",\n    \"장항선\": \"#F5A200\",\n    \"중앙선\": \"#77C4A3\",\n    \"김포도시철도\": \"#BDB092\",\n    \"신림선\": \"#738C00\",\n    \"용인경전철\": \"#509F22\",\n    \"경전철의정부\": \"#FFD400\",\n    \"김포골드라인\": \"#A17E46\",\n    \"인천공항 자기부상철도\": \"#0B4CA2\",\n\n};\nconst lines = subwayData.reduce((acc, curr) => {\n    acc[curr.line] = acc[curr.line] || [];\n    acc[curr.line].push(new window.kakao.maps.LatLng(curr.lat, curr.lng));\n    return acc;\n}, {});\n\nObject.keys(lines).forEach(line => {\n    const polyline = new window.kakao.maps.Polyline({\n        path: lines[line],\n        strokeWeight: 5,\n        strokeColor: lineColors[line] || \"#FFAE00\", // 기본 색상\n        strokeOpacity: 0.7,\n        strokeStyle: 'solid'\n    });\n\n    polyline.setMap(map);\n});\n*/\n    const overlay = new window.kakao.maps.CustomOverlay({\n        content: content,\n        position: marker.getPosition(),\n        yAnchor: 1\n    });\n  \n            window.kakao.maps.event.addListener(marker, 'click', function() {\n              overlay.setMap(map);\n              document.querySelectorAll('.wrap').forEach(el => el.style.display = 'none'); // 다른 오버레이 숨기기\n              document.getElementById(`overlay-${index}`).style.display = 'block'; // 현재 오버레이 표시\n            });\n          });\n          window.goToArrivalPage = (stationName) => {\n            navigate('/live', { state: { stationName } });\n          };\n\n        });\n      };\n  \n      return () => {\n        \n        document.head.removeChild(script);\n        delete window.goToArrivalPage;\n      }\n    }, []);\n  \n    const handleSearch = (e) => {\n        e.preventDefault(); // 폼 제출 이벤트 기본 동작 방지\n        const station = subwayData.find(station => station.name.includes(searchTerm));\n        if (station && map) {\n          const moveLatLon = new window.kakao.maps.LatLng(station.y, station.x);\n          map.setCenter(moveLatLon); // 검색된 지하철역 위치로 지도 중심 이동\n          map.setLevel(4); // 확대 수준 조정 \n        }\n      };\n    \n    \n\n    return (\n        <Main title=\"지도\" description=\"지도 페이지\">\n            <div className=\"search-container\">\n  <div className=\"search-form\">\n    <form onSubmit={handleSearch}>\n      <input\n        type=\"text\"\n        placeholder=\"  지하철역 검색\"\n        value={searchTerm}\n        onChange={(e) => setSearchTerm(e.target.value)}\n      />\n      <button type=\"submit\">검색</button>\n    </form>\n    <div className=\"route-box\">\n      <div className=\"route-info\">출발지: {startStation}</div>\n      <FaLongArrowAltRight />\n      <div className=\"route-info\">도착지: {endStation}</div>\n      <button onClick={navigateToRouteResult}>길찾기</button>\n    </div>\n  </div>\n</div>\n          <div id=\"map\">지도 로딩중...</div>\n        </Main>\n    );\n};\n    \nexport default Map;"],"names":["lineImages","_useState","useState","_useState2","_slicedToArray","searchTerm","setSearchTerm","_useState3","_useState4","map","setMap","_useState5","_useState6","startStation","setStartStation","_useState7","_useState8","endStation","setEndStation","navigate","useNavigate","useEffect","window","setStation","stationName","type","script","document","createElement","src","async","head","appendChild","onload","kakao","maps","load","mapContainer","getElementById","mapOption","center","LatLng","level","Map","subwayData","forEach","station","index","markerPosition","y","x","markerImageSrc","line","markerImageSize","Size","markerImageOption","offset","Point","markerImage","MarkerImage","marker","Marker","position","image","content","concat","name","overlay","CustomOverlay","getPosition","yAnchor","event","addListener","querySelectorAll","el","style","display","goToArrivalPage","state","removeChild","_jsxs","Main","title","description","children","_jsx","className","onSubmit","e","preventDefault","find","includes","moveLatLon","setCenter","setLevel","placeholder","value","onChange","target","FaLongArrowAltRight","onClick","id"],"sourceRoot":""}